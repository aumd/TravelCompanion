function initialize(){var e={zoom:countries["ph"].zoom,center:countries["ph"].center,mapTypeControl:false,panControl:false,zoomControl:false,streetViewControl:false};map=new google.maps.Map(document.getElementById("map-canvas"),e);infoWindow=new google.maps.InfoWindow({content:document.getElementById("info-content")});autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["(cities)"],componentRestrictions:countryRestrict});places=new google.maps.places.PlacesService(map);google.maps.event.addListener(autocomplete,"place_changed",onPlaceChanged);google.maps.event.addDomListener(document.getElementById("country"),"change",setAutocompleteCountry)}function onPlaceChanged(){var e=autocomplete.getPlace();if(e.geometry){map.panTo(e.geometry.location);map.setZoom(15);search()}else{document.getElementById("autocomplete").placeholder="Enter a city"}}function search(){var e={bounds:map.getBounds(),types:["lodging"]};places.nearbySearch(e,function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK){clearResults();clearMarkers();for(var n=0;n<e.length;n++){var r=String.fromCharCode("A".charCodeAt(0)+n);var i=MARKER_PATH+r+".png";markers[n]=new google.maps.Marker({position:e[n].geometry.location,animation:google.maps.Animation.DROP,icon:i});markers[n].placeResult=e[n];google.maps.event.addListener(markers[n],"click",showInfoWindow);setTimeout(dropMarker(n),n*100);addResult(e[n],n)}}})}function clearMarkers(){for(var e=0;e<markers.length;e++){if(markers[e]){markers[e].setMap(null)}}markers=[]}function setAutocompleteCountry(){var e=document.getElementById("country").value;if(e=="all"){autocomplete.setComponentRestrictions([]);map.setCenter(new google.maps.LatLng(15,0));map.setZoom(2)}else{autocomplete.setComponentRestrictions({country:e});map.setCenter(countries[e].center);map.setZoom(countries[e].zoom)}clearResults();clearMarkers()}function dropMarker(e){return function(){markers[e].setMap(map)}}function addResult(e,t){var n=document.getElementById("results");var r=String.fromCharCode("A".charCodeAt(0)+t);var i=MARKER_PATH+r+".png";var s=document.createElement("tr");s.style.backgroundColor=t%2==0?"#F0F0F0":"#FFFFFF";s.onclick=function(){google.maps.event.trigger(markers[t],"click")};var o=document.createElement("td");var u=document.createElement("td");var a=document.createElement("img");a.src=i;a.setAttribute("class","placeIcon");a.setAttribute("className","placeIcon");var f=document.createTextNode(e.name);o.appendChild(a);u.appendChild(f);s.appendChild(o);s.appendChild(u);n.appendChild(s)}function clearResults(){var e=document.getElementById("results");while(e.childNodes[0]){e.removeChild(e.childNodes[0])}}function showInfoWindow(){var e=this;places.getDetails({reference:e.placeResult.reference},function(t,n){if(n!=google.maps.places.PlacesServiceStatus.OK){return}infoWindow.open(map,e);buildIWContent(t)})}function buildIWContent(e){document.getElementById("iw-icon").innerHTML='<img class="hotelIcon" '+'src="'+e.icon+'"/>';document.getElementById("iw-url").innerHTML='<b><a href="'+"RoomList.html"+'">'+e.name+"</a></b>";document.getElementById("iw-address").textContent=e.vicinity;if(e.formatted_phone_number){document.getElementById("iw-phone-row").style.display="";document.getElementById("iw-phone").textContent=e.formatted_phone_number}else{document.getElementById("iw-phone-row").style.display="none"}if(e.rating){var t="";for(var n=0;n<5;n++){if(e.rating<n+.5){t+="&#10025;"}else{t+="&#10029;"}document.getElementById("iw-rating-row").style.display="";document.getElementById("iw-rating").innerHTML=t}}else{document.getElementById("iw-rating-row").style.display="none"}if(e.website){var r=e.website;var i=hostnameRegexp.exec(e.website);if(i==null){i="http://"+e.website+"/";r=i}document.getElementById("iw-website-row").style.display="";document.getElementById("iw-website").textContent=i}else{document.getElementById("iw-website-row").style.display="none"}}var map,places,infoWindow;var markers=[];var autocomplete;var countryRestrict={country:"ph"};var MARKER_PATH="https://maps.gstatic.com/intl/en_us/mapfiles/marker_green";var hostnameRegexp=new RegExp("^https?://.+?/");var countries={au:{center:new google.maps.LatLng(-25.3,133.8),zoom:4},br:{center:new google.maps.LatLng(-14.2,-51.9),zoom:3},ca:{center:new google.maps.LatLng(62,-110),zoom:3},fr:{center:new google.maps.LatLng(46.2,2.2),zoom:5},de:{center:new google.maps.LatLng(51.2,10.4),zoom:5},mx:{center:new google.maps.LatLng(23.6,-102.5),zoom:4},nz:{center:new google.maps.LatLng(-40.9,174.9),zoom:5},it:{center:new google.maps.LatLng(41.9,12.6),zoom:5},za:{center:new google.maps.LatLng(-30.6,22.9),zoom:5},es:{center:new google.maps.LatLng(40.5,-3.7),zoom:5},ph:{center:new google.maps.LatLng(11.3333,123.0167),zoom:7},pt:{center:new google.maps.LatLng(39.4,-8.2),zoom:6},us:{center:new google.maps.LatLng(37.1,-95.7),zoom:3},uk:{center:new google.maps.LatLng(54.8,-4.6),zoom:5}}